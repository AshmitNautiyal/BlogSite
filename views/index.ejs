<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomePage</title>
   
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
 <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/style.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
                       <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="white" class="bi bi-journal-text me-2" viewBox="0 0 16 16">
  <path d="M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"/>
  <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"/>
  <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"/>
</svg>

            <a class="navbar-brand" href="/">BlogSite</a>
            <div class="navbar-nav ms-auto">
                <% if (user) { %>
                    <span class="navbar-text me-3" style="color: white;">Welcome, <%= user.username %>!</span>
                    <a class="nav-link active" href="/logout">Logout</a>
                <% } else { %>
                    <a class="nav-link active" href="/login">Login</a>
                    <a class="nav-link active" href="/register">Register</a>
                <% } %>
            </div>
        </div>
    </nav>

    <section class="hero">
    <div class="container col-xxl-8 px-4 py-5">
        <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
          <div class="col-10 col-sm-8 col-lg-6">
            <img src="/6114045-removebg-preview.png" class="d-block mx-lg-auto img-fluid" alt="Bootstrap Themes" width="700" height="500" loading="lazy">
          </div>
          <div class="col-lg-6" id="text">
            <h1 class="display-5 fw-bold text-body-emphasis lh-1 mb-3">"Turn Ideas Into Words, And Words Into Impact"</h1>
            <p class="lead">If you're ready to share your story and be part of our community passionate for writing, join us. With our website you can create, edit and delete blogs as you please. Don't wait any longer - start your journey with us and create your first blog today!</p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start">
            </div>
          </div>
        </div>
      </div>
    </section>

    <% if (user) { %>
    <!-- Buttons for logged-in users -->
    <div class="creatediv">
        <a href="/create-blog" class="btn create-button me-3">Create</a>
        <a href="/my-blogs" class="btn  create-button">My Blogs</a>
    </div>
    
    <!-- All blogs section for logged-in users -->
    <div class="container mt-4">
        <h3 style="color: #252A34;"><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-book-fill" viewBox="0 0 16 16">
  <path d="M8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
</svg> Community Blogs</h3>
    </div>
    
    <div class="blog-list">
        <% if (blogs && blogs.length > 0) { %>
            <% blogs.forEach((blog) => { %>
              <div class="blog-summary">
                <h2><%= blog.title %></h2>
                <p><strong>Author:</strong> <%= blog.author %></p>
                <p><strong>Content Preview:</strong> <%= blog.content.substring(0, 500) %>...</p> 
                <p><strong>Created:</strong> <%= new Date(blog.createdAt).toLocaleDateString() %></p>
                <div id="b">
                    <a href="/blog/<%= blog.id %>" class="btn btn-dark btn-view">View</a>
                </div>
              </div>
              <hr>
            <% }) %>
        <% } else { %>
            <div class="container text-center">
                <h4>No blogs available yet. Be the first to create one!</h4>
            </div>
        <% } %>
    </div>
    
    <% } else { %>
    <!-- Content for non-logged-in users -->
    <div  style="border: 3px solid black;"  class="container text-center mt-5">
        <h3>Join Our Community</h3>
        <p class="lead">Please login or register to view and create blogs!</p>
        <div class="d-grid gap-2 d-md-flex justify-content-md-center">
            <a href="/login" class="btn btn-dark btn-lg me-2">Login</a>
            <a href="/register" class="btn btn-outline-dark btn-lg">Register</a>
        </div>
    </div>
    <% } %>
    
    <section id="footer">
        <div class="container">
            <footer class="py-3 text-light">
              <ul class="nav justify-content-center border-bottom pb-3 mb-3">
                <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary"></a></li>
                <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary"></a></li>
                <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">Created by Ashmit Nautiyal</a></li>
                <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary"></a></li>
                <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary"></a></li>
              </ul>
              <p class="text-center text-body-secondary">Â© 2025 Company, Inc</p>
            </footer>
        </div>
    </section>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>